<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading Test - The History of the Guitar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* [All original CSS styles remain unchanged - omitted for brevity] */
        body { margin: 0; padding: 0; font-family: Arial, sans-serif; overflow: hidden; background-color: #e6f3fa; }
        .test-wrapper { display: flex; flex-direction: column; height: 100vh; }
        .test-container { display: flex; flex: 1; overflow: hidden; }
        .header { background-color: #fff; border-bottom: 1px solid #ccc; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .header__logo img { height: 40px; }
        .header__timer { font-size: 1.2rem; font-weight: bold; color: #333; background-color: #d0e7f5; padding: 5px 15px; border-radius: 20px; border: 1px solid #ccc; transition: all 0.3s ease; }
        .header__icons { display: flex; gap: 15px; }
        .header__icon { font-size: 1.2rem; color: #555; cursor: pointer; transition: color 0.2s ease; }
        .header__icon:hover { color: #0066cc; }
        .settings-modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.7); z-index: 1000; justify-content: center; align-items: center; }
        .settings-content { background-color: white; width: 90%; max-width: 500px; border-radius: 8px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .settings-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 1px solid #ccc; background-color: #e6f3fa; }
        .settings-header h2 { margin: 0; font-size: 1.2rem; }
        .settings-close { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #555; }
        .settings-close:hover { color: #0066cc; }
        .settings-body { padding: 20px; }
        .settings-option { display: flex; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee; cursor: pointer; transition: background-color 0.2s ease; }
        .settings-option:hover { background-color: #f5f5f5; }
        .settings-option:last-child { border-bottom: none; }
        .settings-option i { margin-right: 15px; width: 20px; text-align: center; color: #0066cc; }
        .settings-option span { flex: 1; }
        .sectionRubric { margin: 1em; width: calc(100% - 4em - 3px); border-radius: 4px; padding: 0.75em 1em; background: white; border: 1px solid #ccc; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .sectionRubric h2, .sectionRubric p { margin: 0; }
        .sectionRubric h2 { font-size: 1rem; margin-bottom: 0.25em; }
        .passage-container { width: 45%; height: 100%; overflow-y: auto; padding: 20px; box-sizing: border-box; background-color: #e6f3fa; position: relative; -webkit-user-select: text; user-select: text; }
        .questions-container { flex: 1; overflow-y: auto; padding: 20px; box-sizing: border-box; background-color: #e6f3fa; -webkit-user-select: text; user-select: text; }
        .highlight { position: relative; border-radius: 2px; padding: 0 2px; margin: 0 -2px; }
        .highlight.yellow { background-color: rgba(255, 255, 0, 0.3); }
        .highlight.green { background-color: rgba(0, 255, 0, 0.3); }
        .highlight.pink { background-color: rgba(255, 105, 180, 0.3); }
        .highlight.blue { background-color: rgba(0, 191, 255, 0.3); }
        .highlight-toolbar { position: fixed; background: white; border: 1px solid #ccc; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); display: none; z-index: 1000; padding: 5px; transform: translate(-50%, -100%); margin-top: -5px; }
        .highlight-toolbar button { background: none; border: none; width: 24px; height: 24px; cursor: pointer; margin: 0 2px; border-radius: 3px; transition: background-color 0.2s ease; }
        .highlight-toolbar button:hover { background: #f0f0f0; }
        .highlight-toolbar button.remove { color: #ff0000; }
        .divider { width: 10px; background: #ccc; cursor: col-resize; position: relative; }
        .divider-handle { width: 4px; height: 40px; background: #888; border-radius: 2px; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); }
        .question { margin-bottom: 30px; background: white; padding: 15px; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .question-rubric { margin-bottom: 15px; font-weight: bold; }
        .question-options { list-style-type: none; padding: 0; }
        .question-options li { margin: 10px 0; display: flex; align-items: center; }
        .true-false-option { display: flex; align-items: center; margin: 5px 0; }
        .true-false-option select { min-width: 100px; padding: 6px; border: 1px solid #ccc; border-radius: 4px; margin-left: 10px; font-size: 14px; }
        .table-completion-container { margin-top: 20px; }
        .table-completion { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .table-completion th, .table-completion td { border: 1px solid #ccc; padding: 10px; text-align: left; }
        .table-completion th { background-color: #f0f0f0; }
        .table-input { width: 120px; padding: 6px; border: 2px dashed #888; border-radius: 4px; margin: 0 5px; font-size: 15px; font-weight: bold; background-color: #d0e7f5; }
        .table-input.correct { border-color: #28a745; background-color: #e9f7ef; border-style: solid; }
        .table-input.incorrect { border-color: #dc3545; background-color: #f8d7da; border-style: solid; }
        .footer { background: #f5f5f5; border-top: 1px solid #ccc; padding: 10px; }
        .nav-row { display: flex; align-items: center; justify-content: space-between; }
        .footer__questionWrapper { display: flex; align-items: center; }
        .footer__questionNo { background: none; border: none; padding: 5px 10px; cursor: pointer; font-weight: bold; font-size: 14px; }
        .footer__subquestionWrapper { display: flex; flex-wrap: wrap; margin-left: 10px; }
        .subQuestion { width: 30px; height: 30px; border-radius: 50%; border: 1px solid #ccc; background: #f0f0f0; margin: 2px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: #555; font-size: 14px; transition: all 0.2s ease; }
        .subQuestion:hover { background: #d0e7f5; }
        .subQuestion.active { background: #0066cc; color: white; border-color: #0066cc; }
        .subQuestion.attempted { background: #0066cc; color: white; }
        .footer__deliverButton { background: #0066cc; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 14px; transition: background-color 0.2s ease; }
        .footer__deliverButton:hover { background: #0055aa; }
        .footer__deliverButton:disabled { background: #cccccc; cursor: not-allowed; }
        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border-width: 0; }
        .highlight-color { width: 20px; height: 20px; border-radius: 50%; display: inline-block; margin: 0 2px; cursor: pointer; border: 1px solid #ccc; }
        .highlight-color.yellow { background-color: #ffff00; }
        .highlight-color.green { background-color: #00ff00; }
        .highlight-color.pink { background-color: #ff69b4; }
        .highlight-color.blue { background-color: #00bfff; }
        .submission-modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.8); z-index: 2000; justify-content: center; align-items: center; }
        .submission-content { background-color: white; width: 80%; max-width: 800px; border-radius: 10px; padding: 30px; box-shadow: 0 5px 30px rgba(0,0,0,0.5); max-height: 80vh; overflow-y: auto; }
        .submission-content h2 { margin-top: 0; color: #0066cc; border-bottom: 2px solid #0066cc; padding-bottom: 10px; }
        .submission-content p { margin-bottom: 20px; color: #333; }
        .answers-section { margin-top: 20px; }
        .answers-section h3 { color: #0066cc; margin-bottom: 15px; }
        .answer-item { padding: 10px; margin-bottom: 8px; border-radius: 4px; border-left: 4px solid #ccc; background-color: #f9f9f9; }
        .answer-item.correct { border-left-color: #4CAF50; background-color: #f0fff0; }
        .answer-item.incorrect { border-left-color: #f44336; background-color: #fff0f0; }
        .answer-text { font-weight: bold; }
        .correct-answer { color: #4CAF50; margin-left: 10px; }
        .incorrect-answer { color: #f44336; margin-left: 10px; }
        .answer-status { float: right; margin-left: 15px; }
        .correct-status { color: #4CAF50; }
        .incorrect-status { color: #f44336; }
        .submission-buttons { margin-top: 25px; text-align: right; clear: both; }
        .submission-buttons button { padding: 8px 15px; margin-left: 10px; border-radius: 4px; cursor: pointer; font-weight: bold; }
        .submission-buttons .confirm { background: #0066cc; color: white; border: none; }
        .submission-buttons .confirm:hover { background: #0055aa; }
        input:disabled, select:disabled { background-color: #f5f5f5; cursor: not-allowed; }
        .score-display { text-align: center; margin-bottom: 20px; }
        .score-number { font-size: 3rem; font-weight: bold; color: #0066cc; margin: 10px 0; }
        .score-total { font-size: 1.5rem; color: #555; }
        .performance-rating { font-size: 1.5rem; font-weight: bold; margin: 15px 0; padding: 10px; border-radius: 5px; }
        .excellent { color: #2E7D32; background-color: #E8F5E9; }
        .very-good { color: #388E3C; background-color: #E8F5E9; }
        .good { color: #689F38; background-color: #F1F8E9; }
        .fair { color: #F57C00; background-color: #FFF3E0; }
        .poor { color: #D32F2F; background-color: #FFEBEE; }
        .band-score { font-size: 2rem; font-weight: bold; color: #0066cc; margin: 10px 0; }
        .correct-highlight { background-color: rgba(76, 175, 80, 0.3); padding: 2px; border-radius: 2px; }
        .incorrect-highlight { background-color: rgba(244, 67, 54, 0.3); padding: 2px; border-radius: 2px; }
        .answer-comparison { margin-top: 20px; padding: 15px; background-color: #f5f5f5; border-radius: 5px; display: none; }
        .answer-comparison h3 { margin-top: 0; color: #0066cc; }
        .time-spent { font-size: 1rem; color: #555; margin-bottom: 15px; text-align: center; }
        .dropdown-answer { display: inline-block; margin-left: 10px; font-weight: normal; }
        .dropdown-answer.correct { color: #4CAF50; }
        .dropdown-answer.incorrect { color: #f44336; }
    </style>
</head>
<body>
    <div class="test-wrapper">
        <!-- Header with Timer -->
        <header class="header">
            <div class="header__logo">
                <h4 style="font-weight: bold; margin: 0; color: #333;">@DIYORBEKSIELTSLC</h4>
            </div>
            <div class="header__timer" id="testTimer">00:00</div>
            <div class="header__icons">
                <i class="fas fa-wifi header__icon"></i>
                <i class="fas fa-bell header__icon"></i>
                <i class="fas fa-cog header__icon" id="settingsButton"></i>
            </div>
        </header>

        <!-- Settings Modal -->
        <div class="settings-modal" id="settingsModal">
            <div class="settings-content">
                <div class="settings-header">
                    <h2>Options</h2>
                    <button class="settings-close" id="settingsClose">&times;</button>
                </div>
                <div class="settings-body">
                    <div class="settings-option">
                        <i class="fas fa-paper-plane"></i>
                        <span>Go to submission page</span>
                    </div>
                    <div class="settings-option" id="contrastOption">
                        <i class="fas fa-adjust"></i>
                        <span>Contrast</span>
                    </div>
                    <div class="settings-option" id="textSizeOption">
                        <i class="fas fa-search-plus"></i>
                        <span>Text size</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section Rubric -->
        <div class="sectionRubric" id="sectionRubric">
            <h2>Part 1</h2>
            <p>Read the text and answer questions 1–13.</p>
        </div>

        <div class="test-container">
            <!-- Passage Section -->
            <div class="passage-container" id="passage-container">
                <div class="highlight-toolbar" id="highlightToolbar">
                    <button class="highlight-color yellow" data-color="yellow" title="Yellow highlight"></button>
                    <button class="highlight-color green" data-color="green" title="Green highlight"></button>
                    <button class="highlight-color pink" data-color="pink" title="Pink highlight"></button>
                    <button class="highlight-color blue" data-color="blue" title="Blue highlight"></button>
                    <button class="remove" title="Remove highlight"><i class="fas fa-times"></i></button>
                </div>
                <div id="passageContent">
                    <h2 style="text-align: center;">The history of the guitar</h2>
                    <p><strong>A</strong> The earliest stringed instruments currently known to archaeologists are bowl harps. For millennia, people made bowl harps using, for example, tortoise shells as resonators, with a bent stick for a neck and one or more gut or silk strings. The world's museums contain many such harps from the ancient Sumerian, Babylonian, and Egyptian civilisations. Around 2500-2000 BC more advanced harps, such as the beautifully carved 11-stringed instrument found in the tomb of Queen Shub-Ad in ancient Mesopotamia, now modern day Iraq, started to appear.</p>
                    <p><strong>B</strong> The tanbur* probably developed from the bowl harp. It was different from the bowl harp in that its neck was straightened out to allow the strings to be pressed down to create more notes. Tomb paintings and stone carvings in Egypt indicate that harps and tanburs – plus flutes and percussion instruments – were being played together 3,500-4,000 years ago. Archaeologists have also found many similar relics amongst the ruins of the ancient Mesopotamian civilisation. Many of these instruments have survived into modern times in almost unchanged form, for example folk instruments of the region such as the Turkish saz and Afghan panchtar.</p>
                    <p><strong>C</strong> At 3,500 years old, the tanbur which belonged to the Egyptian singer Har-Mose is the earliest known example of this instrument. Har-Mose's tanbur had three strings and a plectrum suspended from the neck by a cord. The soundbox, which increased the volume, was made of beautifully polished cedarwood and covered in rawhide. It can be seen today at the Archaeological Museum in Cairo.</p>
                    <p><strong>D</strong> In order to distinguish guitars from other stringed instruments, it is helpful to have a broad definition of the guitar. Music expert Dr Michael Kasha defines a guitar as having 'a long, fretted neck, flat wooden soundboard, ribs, and a flat back, most often with sides that curve inwards'. The oldest known visual representation of such an instrument is a stone carving at Alaca Huyuk in Turkey, which shows a 3,300-year-old instrument with a long neck and sides that clearly curve inwards.</p>
                    <p><strong>E</strong> The name 'guitar' comes from the ancient Sanskrit word for 'string' – 'tar'. Many popular stringed instruments used in central Asia today have existed in an unchanged form for several thousand years, as shown by archaeological finds in the area. Many have names that end in 'tar', with a prefix indicating the number of strings, such as the doter, a two-stringed instrument found in Turkestan, and the Persian three-stringed setar and four-stringed charter. The Indian sitar almost certainly took its name from the setar, but over the centuries it evolved radically, following the Indians' own aesthetic and cultural ideals.</p>
                    <p><strong>F</strong> Tanburs and harps spread around the ancient world with travellers, merchants and seamen. The earliest guitar-like instruments to arrive in Europe had, most often, four strings. Many such instruments, and variations with from three to five strings, can be seen in mediaeval illustrated manuscripts. They were also carved in stone in European churches and cathedrals, from the first century AD through until the 13th century.</p>
                    <p><strong>G</strong> When the four-stringed Persian chartar arrived in Spain, however, it changed in form and construction, acquiring pairs of strings tuned to the same note instead of single strings. It became known as the chitarra. By the middle of the 14th century, the chitarra had become dominant, at least in most of Europe. The earliest known music for the eight-stringed chitarra was written in 16th-century Spain. The ten-string version first appeared in Italy at the same time, and gradually replaced the eight-stringed instrument. A further two strings first appeared in the 17th century, an innovation which guitar makers all over Europe quickly took up. However, this twelve-string arrangement gradually gave way to six single strings across the continent. The six-stringed guitar can thus be said to be a development of the twelve-string, rather than vice versa, as was thought previously.</p>
                    <p><strong>H</strong> At the beginning of the 19th century, the present-day guitar began to take shape, although bodies were still fairly small and narrow-waisted. The modern classical guitar first appeared in its current form in the mid-19th century, when the Spanish guitar maker Antonio Torres increased the size of the body, altered its proportions, and introduced the revolutionary fan-braced top**. His design radically increased the volume and improved the tone of the instrument, and very soon became the norm. This design has remained essentially unchanged to this day.</p>
                    <p><strong>I</strong> At the time when Torres made his breakthrough, German immigrants to America – among them Christian Fredrich Martin – began making guitars with X-braced tops. Steel strings, which became widely available several decades later in the early 1900s, offered the promise of much louder guitar, but the increased tension was too much for the fan-braced top. The stronger X-braced top proved equal to the job, and quickly became the industry standard.</p>
                    <p><strong>J</strong> At the end of the 19th century, guitar manufacturer Orville Gibson added steel strings to a body constructed like a cello, a combination which produced more volume. The electric guitar was born when pickups were fitted to Hawaiian and jazz guitars in the late 1920s, but met with little success until 1936, when Gibson introduced its famous ES150 model.</p>
                    <p><em>tanbur*: a long-necked stringed instrument with a small pear-shaped body</em><br>
                    <em>fan-braced top**: a strengthening structure in the shape of a fan inserted into the soundbox</em></p>
                </div>
            </div>

            <!-- Draggable Divider -->
            <div class="divider" id="divider">
                <div class="divider-handle"></div>
            </div>

            <!-- Questions Section -->
            <div class="questions-container" id="questions-container">
                <!-- Questions 1–6: TRUE/FALSE/NOT GIVEN -->
                <div class="question">
                    <div class="question-rubric">
                        <h3>Questions 1–6</h3>
                        <p>Choose <strong>TRUE</strong> if the statement agrees with the information given in the text, choose <strong>FALSE</strong> if the statement contradicts the information, or choose <strong>NOT GIVEN</strong> if there is no information on this.</p>
                    </div>
                    <div class="question-content">
                        <div class="question-item">
                            <p><span class="question-number">1</span> The instrument found in Queen Shub-Ad's tomb is the world's oldest known version of a harp.</p>
                            <div class="true-false-option">
                                <select name="q1" id="q1">
                                    <option value="">--</option>
                                    <option value="TRUE">TRUE</option>
                                    <option value="FALSE">FALSE</option>
                                    <option value="NOT GIVEN">NOT GIVEN</option>
                                </select>
                            </div>
                        </div>
                        <div class="question-item">
                            <p><span class="question-number">2</span> Today's Afghan panchtar is very similar to an ancient Mesopotamian instrument.</p>
                            <div class="true-false-option">
                                <select name="q2" id="q2">
                                    <option value="">--</option>
                                    <option value="TRUE">TRUE</option>
                                    <option value="FALSE">FALSE</option>
                                    <option value="NOT GIVEN">NOT GIVEN</option>
                                </select>
                            </div>
                        </div>
                        <div class="question-item">
                            <p><span class="question-number">3</span> The Egyptian singer Har-Mose was an excellent tanbur player.</p>
                            <div class="true-false-option">
                                <select name="q3" id="q3">
                                    <option value="">--</option>
                                    <option value="TRUE">TRUE</option>
                                    <option value="FALSE">FALSE</option>
                                    <option value="NOT GIVEN">NOT GIVEN</option>
                                </select>
                            </div>
                        </div>
                        <div class="question-item">
                            <p><span class="question-number">4</span> Cairo Archaeological Museum contains many historic musical instruments.</p>
                            <div class="true-false-option">
                                <select name="q4" id="q4">
                                    <option value="">--</option>
                                    <option value="TRUE">TRUE</option>
                                    <option value="FALSE">FALSE</option>
                                    <option value="NOT GIVEN">NOT GIVEN</option>
                                </select>
                            </div>
                        </div>
                        <div class="question-item">
                            <p><span class="question-number">5</span> The instrument carved in stone at Alaca Huyuk is consistent with Dr Michael Kasha's definition of a guitar.</p>
                            <div class="true-false-option">
                                <select name="q5" id="q5">
                                    <option value="">--</option>
                                    <option value="TRUE">TRUE</option>
                                    <option value="FALSE">FALSE</option>
                                    <option value="NOT GIVEN">NOT GIVEN</option>
                                </select>
                            </div>
                        </div>
                        <div class="question-item">
                            <p><span class="question-number">6</span> The different instruments that appeared in medieval literature had the same number of strings.</p>
                            <div class="true-false-option">
                                <select name="q6" id="q6">
                                    <option value="">--</option>
                                    <option value="TRUE">TRUE</option>
                                    <option value="FALSE">FALSE</option>
                                    <option value="NOT GIVEN">NOT GIVEN</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Questions 7–13: Table Completion -->
                <div class="question">
                    <div class="question-rubric">
                        <h3>Questions 7–13</h3>
                        <p>Complete the table below.</p>
                        <p>Write <strong>ONE WORD ONLY</strong> from the passage for each answer.</p>
                    </div>
                    <div class="question-content">
                        <div class="table-completion-container">
                            <p style="text-align: center; font-weight: bold;">The development of the guitar</p>
                            <table class="table-completion">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Type of instrument</th>
                                        <th>Notes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>13th-19th century</td>
                                        <td>Chitarra</td>
                                        <td>
                                            <ul style="list-style: none; padding: 0; margin: 5px 0;">
                                                <li>• was a development of an earlier instrument called the <input type="text" class="table-input" id="q7" name="q7"></li>
                                                <li>• extra strings added in 16th century in Italy</li>
                                            </ul>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>from around the 1850s</td>
                                        <td>Classical guitar</td>
                                        <td>
                                            <ul style="list-style: none; padding: 0; margin: 5px 0;">
                                                <li>• its shape a result of modifications including a larger <input type="text" class="table-input" id="q8" name="q8"> introduced by Antonio Torres</li>
                                                <li>• changes produced better tone and greater <input type="text" class="table-input" id="q9" name="q9"></li>
                                            </ul>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td rowspan="2">mid-19th century</td>
                                        <td rowspan="2">X-braced top guitar</td>
                                        <td>• first made in <input type="text" class="table-input" id="q10" name="q10"> in mid-19th century</td>
                                    </tr>
                                    <tr>
                                        <td>• strings made of <input type="text" class="table-input" id="q11" name="q11"> became available around 1900</td>
                                    </tr>
                                    <tr>
                                        <td>1920s onwards</td>
                                        <td>Electric guitar</td>
                                        <td>
                                            <ul style="list-style: none; padding: 0; margin: 5px 0;">
                                                <li>• in the 1920s, <input type="text" class="table-input" id="q12" name="q12"> added to guitars</li>
                                                <li>• a well-known version brought out by <input type="text" class="table-input" id="q13" name="q13"></li>
                                            </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <nav class="nav-row perScorableItem" aria-label="Questions">
                <div class="footer__questionWrapper selected multiple" role="tablist">
                    <button role="tab" class="footer__questionNo" data-sectionid="128121930" tabindex="-1">
                        <span>
                            <span aria-hidden="true" class="section-prefix">Part </span>
                            <span class="sectionNr" aria-hidden="true">1</span>
                        </span>
                    </button>
                    <div class="footer__subquestionWrapper">
                        <!-- Generate buttons for questions 1 to 13 -->
                        <script>
                            for (let i = 1; i <= 13; i++) {
                                document.write(`
                                    <button class="subQuestion" data-contentrevisionid="128121896" data-ordernumber="${i}" data-sectionid="128121930" tabindex="0">
                                        <span class="sr-only">Question ${i}</span>
                                        <span aria-hidden="true">${i}</span>
                                        <span class="sr-only">Not attempted</span>
                                    </button>
                                `);
                            }
                        </script>
                    </div>
                </div>
                <button id="deliver-button" aria-label="Review your answers" class="footer__deliverButton">
                    <i class="fas fa-check"></i> Submit
                </button>
            </nav>
        </footer>
    </div>

    <!-- Submission Modal -->
    <div class="submission-modal" id="submissionModal">
        <div class="submission-content">
            <h2 id="submissionTitle">Test Results</h2>
            <div class="score-display">
                <div>Your Score:</div>
                <div class="score-number" id="userScore">0</div>
                <div class="score-total">out of <span id="totalQuestions">13</span></div>
                <div class="band-score" id="bandScore">Band: 0.0</div>
                <div class="performance-rating" id="performanceRating">Poor - Needs Improvement</div>
            </div>
            <div class="time-spent" id="timeSpent"></div>
            <p id="submissionMessage">Here are your answers with the correct solutions:</p>
            <div class="answers-section">
                <h3>Your Answers:</h3>
                <div id="answersList"></div>
            </div>
            <div class="submission-buttons">
                <button class="confirm" id="closeSubmission">Close</button>
            </div>
        </div>
    </div>

    <script>
        // Correct answers for the new passage
        const correctAnswers = {
            1: "FALSE",
            2: "TRUE",
            3: "NOT GIVEN",
            4: "NOT GIVEN",
            5: "TRUE",
            6: "FALSE",
            7: "chartar",
            8: "body",
            9: "volume",
            10: "America",
            11: "steel",
            12: "pickups",
            13: "Gibson"
        };

        // [All original JavaScript functionality remains unchanged, only updated for new question types]

        let totalSeconds = 0;
        const timerElement = document.getElementById('testTimer');
        let testSubmitted = false;
        let userAnswers = {};
        let startTime = new Date();
        let resultsShown = false;

        function updateTimer() {
            if (testSubmitted) return;
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            const formattedTime = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            timerElement.textContent = formattedTime;
            totalSeconds++;
        }

        function disableAllInputs() {
            document.querySelectorAll('input[type="text"], select').forEach(input => {
                input.disabled = true;
            });
            document.getElementById('deliver-button').disabled = true;
            document.removeEventListener('mouseup', handleTextSelection);
        }

        function showSubmissionModal(title, message) {
            const modal = document.getElementById('submissionModal');
            document.getElementById('submissionTitle').textContent = title;
            document.getElementById('submissionMessage').textContent = message;

            const endTime = new Date();
            const timeDiff = endTime - startTime;
            const minutes = Math.floor(timeDiff / 60000);
            const seconds = Math.floor((timeDiff % 60000) / 1000);
            document,→ document.getElementById('timeSpent').textContent = `Time spent: ${minutes}m ${seconds}s`;

            const answersList = document.getElementById('answersList');
            answersList.innerHTML = '';
            let score = 0;
            userAnswers = {};

            // Process TRUE/FALSE/NOT GIVEN (1-6)
            for (let i = 1; i <= 6; i++) {
                const select = document.querySelector(`select[name="q${i}"]`);
                const userAnswer = select.value || 'Not answered';
                userAnswers[i] = userAnswer;
                const correctAnswer = correctAnswers[i];
                const isCorrect = userAnswer === correctAnswer;
                if (isCorrect) score++;

                const answerItem = document.createElement('div');
                answerItem.className = `answer-item ${isCorrect ? 'correct' : 'incorrect'}`;
                answerItem.innerHTML = `
                    <div class="answer-text">Question ${i}: ${userAnswer}</div>
                    <span class="${isCorrect ? 'correct-answer' : 'incorrect-answer'}">(Correct answer: ${correctAnswer})</span>
                    <span class="answer-status ${isCorrect ? 'correct-status' : 'incorrect-status'}">
                        ${isCorrect ? '✓' : '✗'}
                    </span>
                `;
                answersList.appendChild(answerItem);
            }

            // Process Table Completion (7-13)
            for (let i = 7; i <= 13; i++) {
                const input = document.querySelector(`input[name="q${i}"]`);
                const userAnswer = input.value.trim().toLowerCase() || 'Not answered';
                userAnswers[i] = userAnswer;
                const correctAnswer = correctAnswers[i].toLowerCase();
                const isCorrect = userAnswer === correctAnswer;
                if (isCorrect) score++;

                const answerItem = document.createElement('div');
                answerItem.className = `answer-item ${isCorrect ? 'correct' : 'incorrect'}`;
                answerItem.innerHTML = `
                    <div class="answer-text">Question ${i}: ${userAnswer}</div>
                    <span class="${isCorrect ? 'correct-answer' : 'incorrect-answer'}">(Correct answer: ${correctAnswers[i]})</span>
                    <span class="answer-status ${isCorrect ? 'correct-status' : 'incorrect-status'}">
                        ${isCorrect ? '✓' : '✗'}
                    </span>
                `;
                answersList.appendChild(answerItem);
            }

            document.getElementById('userScore').textContent = score;
            document.getElementById('totalQuestions').textContent = "13";

            const bandScore = calculateBandScore(score);
            document.getElementById('bandScore').textContent = `Band: ${bandScore.toFixed(1)}`;

            const percentage = (score / 13) * 100;
            let rating, ratingClass;
            if (score >= 12) { rating = "Excellent!"; ratingClass = "excellent"; }
            else if (score >= 10) { rating = "Very Good"; ratingClass = "very-good"; }
            else if (score >= 8) { rating = "Good"; ratingClass = "good"; }
            else if (score >= 6) { rating = "Fair"; ratingClass = "fair"; }
            else { rating = "Poor - Needs Improvement"; ratingClass = "poor"; }

            const ratingElement = document.getElementById('performanceRating');
            ratingElement.textContent = rating;
            ratingElement.className = `performance-rating ${ratingClass}`;

            if (testSubmitted) {
                highlightAnswers(correctAnswers);
            }

            modal.style.display = 'flex';
            resultsShown = true;
            const submitButton = document.getElementById('deliver-button');
            submitButton.innerHTML = '<i class="fas fa-eye"></i> Show My Results';
            submitButton.disabled = false;
        }

        function calculateBandScore(score) {
            if (score >= 12) return 9.0;
            if (score >= 11) return 8.5;
            if (score >= 10) return 8.0;
            if (score >= 9) return 7.5;
            if (score >= 8) return 7.0;
            if (score >= 7) return 6.5;
            if (score >= 6) return 6.0;
            if (score >= 5) return 5.5;
            if (score >= 4) return 5.0;
            return 0.0;
        }

        function highlightAnswers(correctAnswers) {
            // TRUE/FALSE/NOT GIVEN
            for (let i = 1; i <= 6; i++) {
                const select = document.querySelector(`select[name="q${i}"]`);
                const userAnswer = userAnswers[i];
                const correctAnswer = correctAnswers[i];
                select.classList.remove('correct', 'incorrect');
                if (userAnswer && userAnswer !== 'Not answered') {
                    select.classList.add(userAnswer === correctAnswer ? 'correct' : 'incorrect');
                    const feedback = document.createElement('span');
                    feedback.className = `dropdown-answer ${userAnswer === correctAnswer ? 'correct' : 'incorrect'}`;
                    feedback.textContent = userAnswer === correctAnswer ? '✓ Correct' : `✗ Correct: ${correctAnswer}`;
                    if (!select.nextElementSibling || !select.nextElementSibling.classList.contains('dropdown-answer')) {
                        select.parentNode.appendChild(feedback);
                    }
                }
            }

            // Table Completion
            for (let i = 7; i <= 13; i++) {
                const input = document.querySelector(`input[name="q${i}"]`);
                const userAnswer = userAnswers[i];
                const correctAnswer = correctAnswers[i].toLowerCase();
                input.classList.remove('correct', 'incorrect');
                if (userAnswer && userAnswer !== 'Not answered') {
                    input.classList.add(userAnswer === correctAnswer ? 'correct' : 'incorrect');
                    const feedback = document.createElement('span');
                    feedback.className = `summary-feedback ${userAnswer === correctAnswer ? 'correct' : 'incorrect'}`;
                    feedback.textContent = userAnswer === correctAnswer ? '✓ Correct' : `✗ Correct: ${correctAnswers[i]}`;
                    if (!input.nextElementSibling || !input.nextElementSibling.classList.contains('summary-feedback')) {
                        input.parentNode.insertBefore(feedback, input.nextSibling);
                    }
                }
            }

            document.getElementById('answerComparison').style.display = 'block';
        }

        document.getElementById('deliver-button').addEventListener('click', function() {
            if (resultsShown) {
                document.getElementById('submissionModal').style.display = 'flex';
                return;
            }
            if (testSubmitted) return;
            if (confirm('Are you sure you want to submit your test? You won\'t be able to make changes after submission.')) {
                clearInterval(timerInterval);
                testSubmitted = true;
                disableAllInputs();
                showSubmissionModal('Test Submitted', 'Thank you for completing the test.');
            }
        });

        document.getElementById('closeSubmission').addEventListener('click', function() {
            document.getElementById('submissionModal').style.display = 'none';
            highlightAnswers(correctAnswers);
        });

        const timerInterval = setInterval(updateTimer, 1000);

        // Settings Modal
        const settingsButton = document.getElementById('settingsButton');
        const settingsModal = document.getElementById('settingsModal');
        const settingsClose = document.getElementById('settingsClose');
        settingsButton.addEventListener('click', () => { settingsModal.style.display = 'flex'; });
        settingsClose.addEventListener('click', () => { settingsModal.style.display = 'none'; });
        window.addEventListener('click', (e) => {
            if (e.target === settingsModal || e.target === document.getElementById('submissionModal')) {
                e.target.style.display = 'none';
            }
        });

        // Draggable Divider
        const divider = document.getElementById('divider');
        const passageContainer = document.getElementById('passage-container');
        const questionsContainer = document.getElementById('questions-container');
        let isDragging = false;
        let startX, startPassageWidth;
        divider.addEventListener('mousedown', (e) => {
            isDragging = true; startX = e.clientX; startPassageWidth = parseInt(document.defaultView.getComputedStyle(passageContainer).width, 10);
            document.body.style.cursor = 'col-resize';
            document.addEventListener('mousemove', onMouseMove);
            document.addEventListener('mouseup', onMouseUp);
            e.preventDefault();
        });
        function onMouseMove(e) {
            if (!isDragging) return;
            const containerWidth = document.querySelector('.test-container').offsetWidth;
            const newPassageWidth = startPassageWidth + e.clientX - startX;
            const minWidth = containerWidth * 0.3;
            const maxWidth = containerWidth * 0.7;
            if (newPassageWidth >= minWidth && newPassageWidth <= maxWidth) {
                passageContainer.style.width = `${newPassageWidth}px`;
            }
        }
        function onMouseUp() {
            isDragging = false;
            document.body.style.cursor = '';
            document.removeEventListener('mousemove', onMouseMove);
            document.removeEventListener('mouseup', onMouseUp);
        }

        // Question Navigation
        document.querySelectorAll('.subQuestion').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelectorAll('.subQuestion').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                const q = parseInt(this.textContent.trim());
                if (q <= 6) document.querySelector('.question:nth-of-type(1)').scrollIntoView({ behavior: 'smooth' });
                else document.querySelector('.question:nth-of-type(2)').scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Highlighting (unchanged)
        const highlightToolbar = document.getElementById('highlightToolbar');
        let selectedText = '', selectedRange = null, currentHighlightColor = null;
        document.querySelectorAll('#passageContent, .questions-container').forEach(el => {
            el.style.userSelect = 'text'; el.style.webkitUserSelect = 'text';
        });
        function handleTextSelection() {
            const selection = window.getSelection();
            selectedText = selection.toString().trim();
            if (selectedText.length > 0 && isTextInContent(selection)) {
                selectedRange = selection.getRangeAt(0);
                const rect = selectedRange.getBoundingClientRect();
                highlightToolbar.style.display = 'block';
                highlightToolbar.style.top = `${rect.top + window.scrollY - 35}px`;
                highlightToolbar.style.left = `${rect.left + window.scrollX + (rect.width / 2)}px`;
            } else {
                highlightToolbar.style.display = 'none';
            }
        }
        function isTextInContent(selection) {
            if (!selection.rangeCount) return false;
            const range = selection.getRangeAt(0);
            const areas = document.querySelectorAll('#passageContent, .question-content');
            return Array.from(areas).some(area => area.contains(range.commonAncestorContainer));
        }
        document.addEventListener('mouseup', handleTextSelection);
        document.addEventListener('mousedown', e => { if (!highlightToolbar.contains(e.target)) highlightToolbar.style.display = 'none'; });
        document.querySelectorAll('.highlight-color').forEach(btn => {
            btn.addEventListener('click', function() { currentHighlightColor = this.dataset.color; applyHighlight(); });
        });
        function applyHighlight() {
            if (selectedText.length > 0 && selectedRange) {
                if (checkForHighlightsInRange(selectedRange)) {
                    removeHighlightsInRange(selectedRange);
                } else if (currentHighlightColor) {
                    const span = document.createElement('span');
                    span.className = `highlight ${currentHighlightColor}`;
                    selectedRange.surroundContents(span);
                }
                window.getSelection().removeAllRanges();
                highlightToolbar.style.display = 'none';
            }
        }
        function checkForHighlightsInRange(range) {
            const frag = range.cloneContents();
            const div = document.createElement('div');
            div.appendChild(frag);
            return div.querySelector('.highlight') !== null;
        }
        function removeHighlightsInRange(range) {
            const frag = range.cloneContents();
            const div = document.createElement('div');
            div.appendChild(frag);
            const highlights = div.querySelectorAll('.highlight');
            if (highlights.length > 0) {
                const newRange = range.cloneRange();
                const fragment = newRange.extractContents();
                const textFrag = document.createDocumentFragment();
                extractTextNodes(fragment, textFrag);
                newRange.insertNode(textFrag);
            }
        }
        function extractTextNodes(source, destination) {
            const walker = document.createTreeWalker(source, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, null, false);
            let node;
            while (node = walker.nextNode()) {
                if (node.nodeType === Node.TEXT_NODE) destination.appendChild(document.createTextNode(node.nodeValue));
                else if (!node.classList.contains('highlight')) {
                    const container = node.cloneNode(false);
                    extractTextNodes(node, container);
                    destination.appendChild(container);
                }
            }
        }
        document.querySelector('.highlight-toolbar .remove').addEventListener('click', () => {
            if (selectedText.length > 0 && selectedRange) {
                removeHighlightsInRange(selectedRange);
                window.getSelection().removeAllRanges();
                highlightToolbar.style.display = 'none';
            }
        });

        // Mark attempted
        document.querySelectorAll('select, input[type="text"]').forEach(input => {
            input.addEventListener('change', function() {
                const qNum = parseInt(this.name.replace('q', ''));
                const btn = document.querySelector(`.subQuestion[data-ordernumber="${qNum}"]`);
                if (btn && (this.value || this.value.trim())) btn.classList.add('attempted');
            });
        });
    </script>
</body>
</html>
